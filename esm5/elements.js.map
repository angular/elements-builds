{"version":3,"file":"elements.js","sources":["../../../packages/elements/esm5/src/ng-element-application-context.js","../../../packages/elements/esm5/src/utils.js","../../../packages/elements/esm5/src/extract-projectable-nodes.js","../../../packages/elements/esm5/src/ng-element.js","../../../packages/elements/esm5/src/ng-element-constructor.js","../../../packages/elements/esm5/src/ng-elements.js","../../../packages/elements/esm5/src/register-as-custom-elements.js","../../../packages/elements/esm5/src/version.js","../../../packages/elements/esm5/public_api.js","../../../packages/elements/esm5/elements.js"],"sourcesContent":["/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport { ApplicationRef, NgZone } from \"@angular/core\";\nvar NgElementApplicationContext = (function () {\n    function NgElementApplicationContext(injector) {\n        this.injector = injector;\n        this.applicationRef = this.injector.get(ApplicationRef);\n        this.ngZone = this.injector.get(NgZone);\n    }\n    /**\n     * @template R\n     * @param {?} cb\n     * @return {?}\n     */\n    NgElementApplicationContext.prototype.runInNgZone = /**\n     * @template R\n     * @param {?} cb\n     * @return {?}\n     */\n    function (cb) { return this.ngZone.run(cb); };\n    return NgElementApplicationContext;\n}());\nexport { NgElementApplicationContext };\nfunction NgElementApplicationContext_tsickle_Closure_declarations() {\n    /** @type {?} */\n    NgElementApplicationContext.prototype.applicationRef;\n    /** @type {?} */\n    NgElementApplicationContext.prototype.ngZone;\n    /** @type {?} */\n    NgElementApplicationContext.prototype.injector;\n}\n//# sourceMappingURL=ng-element-application-context.js.map","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nvar /** @type {?} */ elProto = /** @type {?} */ (Element.prototype);\nvar /** @type {?} */ matches = elProto.matches || elProto.matchesSelector || elProto.mozMatchesSelector ||\n    elProto.msMatchesSelector || elProto.oMatchesSelector || elProto.webkitMatchesSelector;\n/**\n * Provide methods for scheduling the execution of a callback.\n */\nexport var /** @type {?} */ scheduler = {\n    /**\n     * Schedule a callback to be called after some delay.\n     */\n    schedule: /**\n     * Schedule a callback to be called after some delay.\n     * @param {?} cb\n     * @param {?} delay\n     * @return {?}\n     */\n    function (cb, delay) { var /** @type {?} */ id = window.setTimeout(cb, delay); return function () { return window.clearTimeout(id); }; },\n    /**\n     * Schedule a callback to be called before the next render.\n     * (If `window.requestAnimationFrame()` is not available, use `scheduler.schedule()` instead.)\n     */\n    scheduleBeforeRender: /**\n     * Schedule a callback to be called before the next render.\n     * (If `window.requestAnimationFrame()` is not available, use `scheduler.schedule()` instead.)\n     * @param {?} cb\n     * @return {?}\n     */\n    function (cb) {\n        // TODO(gkalpak): Implement a better way of accessing `requestAnimationFrame()`\n        //                (e.g. accounting for vendor prefix, SSR-compatibility, etc).\n        if (typeof window.requestAnimationFrame === 'undefined') {\n            return scheduler.schedule(cb, 16);\n        }\n        var /** @type {?} */ id = window.requestAnimationFrame(cb);\n        return function () { return window.cancelAnimationFrame(id); };\n    },\n};\n/**\n * Convert a camelCased string to kebab-cased.\n * @param {?} input\n * @return {?}\n */\nexport function camelToKebabCase(input) {\n    return input.replace(/[A-Z]/g, function (char) { return \"-\" + char.toLowerCase(); });\n}\n/**\n * Create a `CustomEvent` (even on browsers where `CustomEvent` is not a constructor).\n * @param {?} doc\n * @param {?} name\n * @param {?} detail\n * @return {?}\n */\nexport function createCustomEvent(doc, name, detail) {\n    var /** @type {?} */ bubbles = false;\n    var /** @type {?} */ cancelable = false;\n    // On IE9-11, `CustomEvent` is not a constructor.\n    if (typeof CustomEvent !== 'function') {\n        var /** @type {?} */ event_1 = doc.createEvent('CustomEvent');\n        event_1.initCustomEvent(name, bubbles, cancelable, detail);\n        return event_1;\n    }\n    return new CustomEvent(name, { bubbles: bubbles, cancelable: cancelable, detail: detail });\n}\n/**\n * Return the name of the component or the first line of its stringified version.\n * @param {?} component\n * @return {?}\n */\nexport function getComponentName(component) {\n    return (/** @type {?} */ (component)).overriddenName || component.name ||\n        component.toString().split('\\n', 1)[0];\n}\n/**\n * Check whether the input is an `Element`.\n * @param {?} node\n * @return {?}\n */\nexport function isElement(node) {\n    return node.nodeType === Node.ELEMENT_NODE;\n}\n/**\n * Check whether the input is a function.\n * @param {?} value\n * @return {?}\n */\nexport function isFunction(value) {\n    return typeof value === 'function';\n}\n/**\n * Convert a kebab-cased string to camelCased.\n * @param {?} input\n * @return {?}\n */\nexport function kebabToCamelCase(input) {\n    return input.replace(/-([a-z\\d])/g, function (_, char) { return char.toUpperCase(); });\n}\n/**\n * Check whether an `Element` matches a CSS selector.\n * @param {?} element\n * @param {?} selector\n * @return {?}\n */\nexport function matchesSelector(element, selector) {\n    return matches.call(element, selector);\n}\n/**\n * Test two values for strict equality, accounting for the fact that `NaN !== NaN`.\n * @param {?} value1\n * @param {?} value2\n * @return {?}\n */\nexport function strictEquals(value1, value2) {\n    return value1 === value2 || (value1 !== value1 && value2 !== value2);\n}\n/**\n * Throw an error with the specified message.\n * (It provides a centralized place where it is easy to apply some change/behavior to all errors.)\n * @param {?} message\n * @return {?}\n */\nexport function throwError(message) {\n    throw Error(message);\n}\n//# sourceMappingURL=utils.js.map","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n// NOTE: This is a (slightly improved) version of what is used in ngUpgrade's\n//       `DowngradeComponentAdapter`.\n// TODO(gkalpak): Investigate if it makes sense to share the code.\nimport { isElement, matchesSelector } from \"./utils\";\n/**\n * @param {?} host\n * @param {?} ngContentSelectors\n * @return {?}\n */\nexport function extractProjectableNodes(host, ngContentSelectors) {\n    var /** @type {?} */ nodes = host.childNodes;\n    var /** @type {?} */ projectableNodes = ngContentSelectors.map(function () { return []; });\n    var /** @type {?} */ wildcardIndex = -1;\n    ngContentSelectors.some(function (selector, i) {\n        if (selector === '*') {\n            wildcardIndex = i;\n            return true;\n        }\n        return false;\n    });\n    for (var /** @type {?} */ i = 0, /** @type {?} */ ii = nodes.length; i < ii; ++i) {\n        var /** @type {?} */ node = nodes[i];\n        var /** @type {?} */ ngContentIndex = findMatchingIndex(node, ngContentSelectors, wildcardIndex);\n        if (ngContentIndex !== -1) {\n            projectableNodes[ngContentIndex].push(node);\n        }\n    }\n    return projectableNodes;\n}\n/**\n * @param {?} node\n * @param {?} selectors\n * @param {?} defaultIndex\n * @return {?}\n */\nfunction findMatchingIndex(node, selectors, defaultIndex) {\n    var /** @type {?} */ matchingIndex = defaultIndex;\n    if (isElement(node)) {\n        selectors.some(function (selector, i) {\n            if ((selector !== '*') && matchesSelector(node, selector)) {\n                matchingIndex = i;\n                return true;\n            }\n            return false;\n        });\n    }\n    return matchingIndex;\n}\n//# sourceMappingURL=extract-projectable-nodes.js.map","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nimport * as tslib_1 from \"tslib\";\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport { EventEmitter, Injector, SimpleChange } from \"@angular/core\";\nimport { extractProjectableNodes } from \"./extract-projectable-nodes\";\nimport { createCustomEvent, getComponentName, isFunction, scheduler, strictEquals, throwError } from \"./utils\";\n/**\n * TODO(gkalpak): Add docs.\n * \\@experimental\n * @record\n */\nexport function NgElement() { }\nfunction NgElement_tsickle_Closure_declarations() {\n    /** @type {?} */\n    NgElement.prototype.ngElement;\n    /** @type {?} */\n    NgElement.prototype.componentRef;\n    /** @type {?} */\n    NgElement.prototype.attributeChangedCallback;\n    /** @type {?} */\n    NgElement.prototype.connectedCallback;\n    /** @type {?} */\n    NgElement.prototype.detach;\n    /** @type {?} */\n    NgElement.prototype.detectChanges;\n    /** @type {?} */\n    NgElement.prototype.disconnectedCallback;\n    /** @type {?} */\n    NgElement.prototype.getHost;\n    /** @type {?} */\n    NgElement.prototype.markDirty;\n}\n/**\n * Represents an `NgElement` input.\n * Similar to a `ComponentFactory` input (`{propName: string, templateName: string}`),\n * except that `attrName` is derived by kebab-casing `templateName`.\n * @record\n */\nexport function NgElementInput() { }\nfunction NgElementInput_tsickle_Closure_declarations() {\n    /** @type {?} */\n    NgElementInput.prototype.propName;\n    /** @type {?} */\n    NgElementInput.prototype.attrName;\n}\n/**\n * Represents an `NgElement` input.\n * Similar to a `ComponentFactory` output (`{propName: string, templateName: string}`),\n * except that `templateName` is renamed to `eventName`.\n * @record\n */\nexport function NgElementOutput() { }\nfunction NgElementOutput_tsickle_Closure_declarations() {\n    /** @type {?} */\n    NgElementOutput.prototype.propName;\n    /** @type {?} */\n    NgElementOutput.prototype.eventName;\n}\n/** @enum {string} */\nvar NgElementLifecyclePhase = {\n    // The element has been instantiated, but not connected.\n    // (The associated component has not been created yet.)\n    unconnected: 'unconnected',\n    // The element has been instantiated and connected.\n    // (The associated component has been created.)\n    connected: 'connected',\n    // The element has been instantiated, connected and then disconnected.\n    // (The associated component has been created and then destroyed.)\n    disconnected: 'disconnected',\n};\n/**\n * @record\n */\nfunction NgElementConnected() { }\nfunction NgElementConnected_tsickle_Closure_declarations() {\n    /** @type {?} */\n    NgElementConnected.prototype.ngElement;\n    /** @type {?} */\n    NgElementConnected.prototype.componentRef;\n}\n/**\n * @abstract\n */\nvar NgElementImpl = (function (_super) {\n    tslib_1.__extends(NgElementImpl, _super);\n    function NgElementImpl(appContext, componentFactory, inputs, outputs) {\n        var _this = _super.call(this) || this;\n        _this.appContext = appContext;\n        _this.componentFactory = componentFactory;\n        _this.inputs = inputs;\n        _this.outputs = outputs;\n        _this.ngElement = null;\n        _this.componentRef = null;\n        _this.onConnected = new EventEmitter();\n        _this.onDisconnected = new EventEmitter();\n        _this.host = /** @type {?} */ (_this);\n        _this.componentName = getComponentName(_this.componentFactory.componentType);\n        _this.initialInputValues = new Map();\n        _this.uninitializedInputs = new Set();\n        _this.outputSubscriptions = new Map();\n        _this.inputChanges = null;\n        _this.implementsOnChanges = false;\n        _this.changeDetectionScheduled = false;\n        _this.lifecyclePhase = \"unconnected\" /* unconnected */;\n        _this.cancelDestruction = null;\n        return _this;\n    }\n    /**\n     * @param {?} attrName\n     * @param {?} oldValue\n     * @param {?} newValue\n     * @param {?=} namespace\n     * @return {?}\n     */\n    NgElementImpl.prototype.attributeChangedCallback = /**\n     * @param {?} attrName\n     * @param {?} oldValue\n     * @param {?} newValue\n     * @param {?=} namespace\n     * @return {?}\n     */\n    function (attrName, oldValue, newValue, namespace) {\n        var /** @type {?} */ input = /** @type {?} */ ((this.inputs.find(function (input) { return input.attrName === attrName; })));\n        if (input) {\n            this.setInputValue(input.propName, newValue);\n        }\n        else {\n            throwError(\"Calling 'attributeChangedCallback()' with unknown attribute '\" + attrName + \"' \" +\n                (\"on component '\" + this.componentName + \"' is not allowed.\"));\n        }\n    };\n    /**\n     * @param {?=} ignoreUpgraded\n     * @return {?}\n     */\n    NgElementImpl.prototype.connectedCallback = /**\n     * @param {?=} ignoreUpgraded\n     * @return {?}\n     */\n    function (ignoreUpgraded) {\n        var _this = this;\n        if (ignoreUpgraded === void 0) { ignoreUpgraded = false; }\n        this.assertNotInPhase(\"disconnected\" /* disconnected */, 'connectedCallback');\n        if (this.cancelDestruction !== null) {\n            this.cancelDestruction();\n            this.cancelDestruction = null;\n        }\n        if (this.lifecyclePhase === \"connected\" /* connected */) {\n            return;\n        }\n        var /** @type {?} */ host = /** @type {?} */ (this.host);\n        if (host.ngElement) {\n            if (ignoreUpgraded) {\n                return;\n            }\n            var /** @type {?} */ existingNgElement = (/** @type {?} */ (host)).ngElement;\n            var /** @type {?} */ existingComponentName = getComponentName(existingNgElement.componentRef.componentType);\n            throwError(\"Upgrading '\" + this.host.nodeName + \"' element to component '\" + this.componentName + \"' is not allowed, \" +\n                (\"because the element is already upgraded to component '\" + existingComponentName + \"'.\"));\n        }\n        this.appContext.runInNgZone(function () {\n            _this.lifecyclePhase = \"connected\" /* connected */;\n            var /** @type {?} */ cThis = (/** @type {?} */ ((_this)));\n            var /** @type {?} */ childInjector = Injector.create([], cThis.appContext.injector);\n            var /** @type {?} */ projectableNodes = extractProjectableNodes(cThis.host, cThis.componentFactory.ngContentSelectors);\n            cThis.componentRef =\n                cThis.componentFactory.create(childInjector, projectableNodes, cThis.host);\n            cThis.implementsOnChanges =\n                isFunction((/** @type {?} */ ((cThis.componentRef.instance))).ngOnChanges);\n            cThis.initializeInputs();\n            cThis.initializeOutputs();\n            cThis.detectChanges();\n            cThis.appContext.applicationRef.attachView(cThis.componentRef.hostView);\n            // Ensure `ngElement` is set on the host too (even for manually upgraded elements)\n            // in order to be able to detect that the element has been been upgraded.\n            cThis.ngElement = host.ngElement = cThis;\n            cThis.onConnected.emit();\n        });\n    };\n    /**\n     * @return {?}\n     */\n    NgElementImpl.prototype.detach = /**\n     * @return {?}\n     */\n    function () { this.disconnectedCallback(); };\n    /**\n     * @return {?}\n     */\n    NgElementImpl.prototype.detectChanges = /**\n     * @return {?}\n     */\n    function () {\n        var _this = this;\n        if (this.lifecyclePhase === \"disconnected\" /* disconnected */) {\n            return;\n        }\n        this.assertNotInPhase(\"unconnected\" /* unconnected */, 'detectChanges');\n        this.appContext.runInNgZone(function () {\n            var /** @type {?} */ cThis = /** @type {?} */ ((_this));\n            cThis.changeDetectionScheduled = false;\n            cThis.callNgOnChanges();\n            cThis.componentRef.changeDetectorRef.detectChanges();\n        });\n    };\n    /**\n     * @return {?}\n     */\n    NgElementImpl.prototype.disconnectedCallback = /**\n     * @return {?}\n     */\n    function () {\n        var _this = this;\n        if (this.lifecyclePhase === \"disconnected\" /* disconnected */ ||\n            this.cancelDestruction !== null) {\n            return;\n        }\n        this.assertNotInPhase(\"unconnected\" /* unconnected */, 'disconnectedCallback');\n        var /** @type {?} */ doDestroy = function () { return _this.appContext.runInNgZone(function () { return _this.destroy(); }); };\n        this.cancelDestruction = scheduler.schedule(doDestroy, NgElementImpl.DESTROY_DELAY);\n    };\n    /**\n     * @return {?}\n     */\n    NgElementImpl.prototype.getHost = /**\n     * @return {?}\n     */\n    function () { return this.host; };\n    /**\n     * @param {?} propName\n     * @return {?}\n     */\n    NgElementImpl.prototype.getInputValue = /**\n     * @param {?} propName\n     * @return {?}\n     */\n    function (propName) {\n        this.assertNotInPhase(\"disconnected\" /* disconnected */, 'getInputValue');\n        if (this.lifecyclePhase === \"unconnected\" /* unconnected */) {\n            return this.initialInputValues.get(propName);\n        }\n        var /** @type {?} */ cThis = /** @type {?} */ ((this));\n        return (/** @type {?} */ (cThis.componentRef.instance))[propName];\n    };\n    /**\n     * @return {?}\n     */\n    NgElementImpl.prototype.markDirty = /**\n     * @return {?}\n     */\n    function () {\n        var _this = this;\n        if (!this.changeDetectionScheduled) {\n            this.changeDetectionScheduled = true;\n            scheduler.scheduleBeforeRender(function () { return _this.detectChanges(); });\n        }\n    };\n    /**\n     * @param {?} host\n     * @return {?}\n     */\n    NgElementImpl.prototype.setHost = /**\n     * @param {?} host\n     * @return {?}\n     */\n    function (host) {\n        this.assertNotInPhase(\"connected\" /* connected */, 'setHost');\n        this.assertNotInPhase(\"disconnected\" /* disconnected */, 'setHost');\n        this.host = host;\n    };\n    /**\n     * @param {?} propName\n     * @param {?} newValue\n     * @return {?}\n     */\n    NgElementImpl.prototype.setInputValue = /**\n     * @param {?} propName\n     * @param {?} newValue\n     * @return {?}\n     */\n    function (propName, newValue) {\n        this.assertNotInPhase(\"disconnected\" /* disconnected */, 'setInputValue');\n        if (this.lifecyclePhase === \"unconnected\" /* unconnected */) {\n            this.initialInputValues.set(propName, newValue);\n            return;\n        }\n        var /** @type {?} */ cThis = /** @type {?} */ ((this));\n        if (!strictEquals(newValue, cThis.getInputValue(propName))) {\n            cThis.recordInputChange(propName, newValue);\n            (/** @type {?} */ (cThis.componentRef.instance))[propName] = newValue;\n            cThis.markDirty();\n        }\n    };\n    /**\n     * @param {?} phase\n     * @param {?} caller\n     * @return {?}\n     */\n    NgElementImpl.prototype.assertNotInPhase = /**\n     * @param {?} phase\n     * @param {?} caller\n     * @return {?}\n     */\n    function (phase, caller) {\n        if (this.lifecyclePhase === phase) {\n            throwError(\"Calling '\" + caller + \"()' on \" + phase + \" component '\" + this.componentName + \"' is not allowed.\");\n        }\n    };\n    /**\n     * @this {?}\n     * @return {?}\n     */\n    NgElementImpl.prototype.callNgOnChanges = /**\n     * @this {?}\n     * @return {?}\n     */\n    function () {\n        if (this.implementsOnChanges && this.inputChanges !== null) {\n            var /** @type {?} */ inputChanges = this.inputChanges;\n            this.inputChanges = null;\n            (/** @type {?} */ ((this.componentRef.instance))).ngOnChanges(inputChanges);\n        }\n    };\n    /**\n     * @return {?}\n     */\n    NgElementImpl.prototype.destroy = /**\n     * @return {?}\n     */\n    function () {\n        var /** @type {?} */ cThis = /** @type {?} */ ((this));\n        cThis.componentRef.destroy();\n        cThis.outputs.forEach(function (output) { return cThis.unsubscribeFromOutput(output); });\n        this.ngElement = (/** @type {?} */ (this.host)).ngElement = null;\n        cThis.host.innerHTML = '';\n        cThis.lifecyclePhase = \"disconnected\" /* disconnected */;\n        cThis.onDisconnected.emit();\n    };\n    /**\n     * @param {?} eventName\n     * @param {?} value\n     * @return {?}\n     */\n    NgElementImpl.prototype.dispatchCustomEvent = /**\n     * @param {?} eventName\n     * @param {?} value\n     * @return {?}\n     */\n    function (eventName, value) {\n        var /** @type {?} */ event = createCustomEvent(this.host.ownerDocument, eventName, value);\n        this.dispatchEvent(event);\n        if (this.host !== this) {\n            this.host.dispatchEvent(event);\n        }\n    };\n    /**\n     * @return {?}\n     */\n    NgElementImpl.prototype.initializeInputs = /**\n     * @return {?}\n     */\n    function () {\n        var _this = this;\n        this.inputs.forEach(function (_a) {\n            var propName = _a.propName, attrName = _a.attrName;\n            var /** @type {?} */ initialValue;\n            if (_this.initialInputValues.has(propName)) {\n                // The property has already been set (prior to initialization).\n                // Update the component instance.\n                initialValue = _this.initialInputValues.get(propName);\n            }\n            else if (_this.host.hasAttribute(attrName)) {\n                // A matching attribute exists.\n                // Update the component instance.\n                initialValue = _this.host.getAttribute(attrName);\n            }\n            else {\n                // The property does not have an initial value.\n                // The property does not have an initial value.\n                _this.uninitializedInputs.add(propName);\n            }\n            if (!_this.uninitializedInputs.has(propName)) {\n                // The property does have an initial value.\n                // Forward it to the component instance.\n                // The property does have an initial value.\n                // Forward it to the component instance.\n                _this.setInputValue(propName, initialValue);\n            }\n        });\n        this.initialInputValues.clear();\n    };\n    /**\n     * @this {?}\n     * @return {?}\n     */\n    NgElementImpl.prototype.initializeOutputs = /**\n     * @this {?}\n     * @return {?}\n     */\n    function () {\n        var _this = this;\n        this.outputs.forEach(function (output) { return _this.subscribeToOutput(output); });\n    };\n    /**\n     * @param {?} propName\n     * @param {?} currentValue\n     * @return {?}\n     */\n    NgElementImpl.prototype.recordInputChange = /**\n     * @param {?} propName\n     * @param {?} currentValue\n     * @return {?}\n     */\n    function (propName, currentValue) {\n        if (!this.implementsOnChanges) {\n            // The component does not implement `OnChanges`. Ignore the change.\n            return;\n        }\n        if (this.inputChanges === null) {\n            this.inputChanges = {};\n        }\n        var /** @type {?} */ pendingChange = this.inputChanges[propName];\n        if (pendingChange) {\n            pendingChange.currentValue = currentValue;\n            return;\n        }\n        var /** @type {?} */ isFirstChange = this.uninitializedInputs.has(propName);\n        var /** @type {?} */ previousValue = isFirstChange ? undefined : this.getInputValue(propName);\n        this.inputChanges[propName] = new SimpleChange(previousValue, currentValue, isFirstChange);\n        if (isFirstChange) {\n            this.uninitializedInputs.delete(propName);\n        }\n    };\n    /**\n     * @this {?}\n     * @param {?} output\n     * @return {?}\n     */\n    NgElementImpl.prototype.subscribeToOutput = /**\n     * @this {?}\n     * @param {?} output\n     * @return {?}\n     */\n    function (output) {\n        var _this = this;\n        var propName = output.propName, eventName = output.eventName;\n        var /** @type {?} */ emitter = /** @type {?} */ ((/** @type {?} */ (this.componentRef.instance))[output.propName]);\n        if (!emitter) {\n            throwError(\"Missing emitter '\" + propName + \"' on component '\" + this.componentName + \"'.\");\n        }\n        this.unsubscribeFromOutput(output);\n        var /** @type {?} */ subscription = emitter.subscribe(function (value) { return _this.dispatchCustomEvent(eventName, value); });\n        this.outputSubscriptions.set(propName, subscription);\n    };\n    /**\n     * @param {?} __0\n     * @return {?}\n     */\n    NgElementImpl.prototype.unsubscribeFromOutput = /**\n     * @param {?} __0\n     * @return {?}\n     */\n    function (_a) {\n        var propName = _a.propName;\n        if (!this.outputSubscriptions.has(propName)) {\n            return;\n        }\n        var /** @type {?} */ subscription = /** @type {?} */ ((this.outputSubscriptions.get(propName)));\n        this.outputSubscriptions.delete(propName);\n        subscription.unsubscribe();\n    };\n    NgElementImpl.DESTROY_DELAY = 10;\n    return NgElementImpl;\n}(HTMLElement));\nexport { NgElementImpl };\nfunction NgElementImpl_tsickle_Closure_declarations() {\n    /** @type {?} */\n    NgElementImpl.DESTROY_DELAY;\n    /** @type {?} */\n    NgElementImpl.prototype.ngElement;\n    /** @type {?} */\n    NgElementImpl.prototype.componentRef;\n    /** @type {?} */\n    NgElementImpl.prototype.onConnected;\n    /** @type {?} */\n    NgElementImpl.prototype.onDisconnected;\n    /** @type {?} */\n    NgElementImpl.prototype.host;\n    /** @type {?} */\n    NgElementImpl.prototype.componentName;\n    /** @type {?} */\n    NgElementImpl.prototype.initialInputValues;\n    /** @type {?} */\n    NgElementImpl.prototype.uninitializedInputs;\n    /** @type {?} */\n    NgElementImpl.prototype.outputSubscriptions;\n    /** @type {?} */\n    NgElementImpl.prototype.inputChanges;\n    /** @type {?} */\n    NgElementImpl.prototype.implementsOnChanges;\n    /** @type {?} */\n    NgElementImpl.prototype.changeDetectionScheduled;\n    /** @type {?} */\n    NgElementImpl.prototype.lifecyclePhase;\n    /** @type {?} */\n    NgElementImpl.prototype.cancelDestruction;\n    /** @type {?} */\n    NgElementImpl.prototype.appContext;\n    /** @type {?} */\n    NgElementImpl.prototype.componentFactory;\n    /** @type {?} */\n    NgElementImpl.prototype.inputs;\n    /** @type {?} */\n    NgElementImpl.prototype.outputs;\n}\n//# sourceMappingURL=ng-element.js.map","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nimport * as tslib_1 from \"tslib\";\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport { EventEmitter } from \"@angular/core\";\nimport { NgElementImpl } from \"./ng-element\";\nimport { camelToKebabCase, throwError } from \"./utils\";\n/**\n * TODO(gkalpak): Add docs.\n * \\@experimental\n * @record\n */\nexport function NgElementConstructor() { }\nfunction NgElementConstructor_tsickle_Closure_declarations() {\n    /** @type {?} */\n    NgElementConstructor.prototype.is;\n    /** @type {?} */\n    NgElementConstructor.prototype.observedAttributes;\n    /** @type {?} */\n    NgElementConstructor.prototype.upgrade;\n    /* TODO: handle strange member:\n    new (): NgElementWithProps<T, P>;\n    */\n}\n/**\n * @record\n */\nexport function NgElementConstructorInternal() { }\nfunction NgElementConstructorInternal_tsickle_Closure_declarations() {\n    /** @type {?} */\n    NgElementConstructorInternal.prototype.onConnected;\n    /** @type {?} */\n    NgElementConstructorInternal.prototype.onDisconnected;\n    /** @type {?} */\n    NgElementConstructorInternal.prototype.upgrade;\n}\n// For more info on `PotentialCustomElementName` rules see:\n// https://html.spec.whatwg.org/multipage/custom-elements.html#valid-custom-element-name\nvar /** @type {?} */ PCEN_RE = createPcenRe();\nvar /** @type {?} */ PCEN_BLACKLIST = [\n    'annotation-xml',\n    'color-profile',\n    'font-face',\n    'font-face-src',\n    'font-face-uri',\n    'font-face-format',\n    'font-face-name',\n    'missing-glyph',\n];\n/**\n * @template T, P\n * @param {?} appContext\n * @param {?} componentFactory\n * @return {?}\n */\nexport function createNgElementConstructor(appContext, componentFactory) {\n    var /** @type {?} */ selector = componentFactory.selector;\n    if (!isPotentialCustomElementName(selector)) {\n        throwError(\"Using '\" + selector + \"' as a custom element name is not allowed. \" +\n            'See https://html.spec.whatwg.org/multipage/custom-elements.html#valid-custom-element-name for more info.');\n    }\n    var /** @type {?} */ inputs = componentFactory.inputs.map(function (_a) {\n        var propName = _a.propName, templateName = _a.templateName;\n        return ({\n            propName: propName,\n            attrName: camelToKebabCase(templateName),\n        });\n    });\n    var /** @type {?} */ outputs = componentFactory.outputs.map(function (_a) {\n        var propName = _a.propName, templateName = _a.templateName;\n        return ({\n            propName: propName,\n            // TODO(gkalpak): Verify this is what we want and document.\n            eventName: templateName,\n        });\n    });\n    var NgElementConstructorImpl = (function (_super) {\n        tslib_1.__extends(NgElementConstructorImpl, _super);\n        function NgElementConstructorImpl() {\n            var _this = _super.call(this, appContext, componentFactory, inputs, outputs) || this;\n            var /** @type {?} */ ngElement = /** @type {?} */ (_this);\n            _this.onConnected.subscribe(function () { return NgElementConstructorImpl.onConnected.emit(ngElement); });\n            _this.onDisconnected.subscribe(function () { return NgElementConstructorImpl.onDisconnected.emit(ngElement); });\n            return _this;\n        }\n        /**\n         * @param {?} host\n         * @param {?=} ignoreUpgraded\n         * @return {?}\n         */\n        NgElementConstructorImpl.upgrade = /**\n         * @param {?} host\n         * @param {?=} ignoreUpgraded\n         * @return {?}\n         */\n        function (host, ignoreUpgraded) {\n            if (ignoreUpgraded === void 0) { ignoreUpgraded = false; }\n            var /** @type {?} */ ngElement = new NgElementConstructorImpl();\n            ngElement.setHost(host);\n            ngElement.connectedCallback(ignoreUpgraded);\n            return /** @type {?} */ (ngElement);\n        };\n        NgElementConstructorImpl.is = selector;\n        NgElementConstructorImpl.observedAttributes = inputs.map(function (input) { return input.attrName; });\n        NgElementConstructorImpl.onConnected = new EventEmitter();\n        NgElementConstructorImpl.onDisconnected = new EventEmitter();\n        return NgElementConstructorImpl;\n    }(NgElementImpl));\n    function NgElementConstructorImpl_tsickle_Closure_declarations() {\n        /** @type {?} */\n        NgElementConstructorImpl.is;\n        /** @type {?} */\n        NgElementConstructorImpl.observedAttributes;\n        /** @type {?} */\n        NgElementConstructorImpl.onConnected;\n        /** @type {?} */\n        NgElementConstructorImpl.onDisconnected;\n    }\n    inputs.forEach(function (_a) {\n        var propName = _a.propName;\n        Object.defineProperty(NgElementConstructorImpl.prototype, propName, {\n            get: function () { return this.getInputValue(propName); },\n            set: function (newValue) {\n                this.setInputValue(propName, newValue);\n            },\n            configurable: true,\n            enumerable: true,\n        });\n    });\n    return /** @type {?} */ (NgElementConstructorImpl);\n}\n/**\n * @return {?}\n */\nfunction createPcenRe() {\n    // According to [the\n    // spec](https://html.spec.whatwg.org/multipage/custom-elements.html#valid-custom-element-name),\n    // `pcenChar` is allowed to contain Unicode characters in the 10000-EFFFF range. But in order to\n    // match this characters with a RegExp, we need the implementation to support the `u` flag.\n    // On browsers that do not support it, valid PotentialCustomElementNames using characters in the\n    // 10000-EFFFF range will still cause an error (but these characters are not expected to be used\n    // in practice).\n    var /** @type {?} */ pcenChar = '-.0-9_a-z\\\\u00B7\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u037D\\\\u037F-\\\\u1FFF' +\n        '\\\\u200C-\\\\u200D\\\\u203F-\\\\u2040\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF' +\n        '\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD';\n    var /** @type {?} */ flags = '';\n    if (RegExp.prototype.hasOwnProperty('unicode')) {\n        pcenChar += '\\\\u{10000}-\\\\u{EFFFF}';\n        flags += 'u';\n    }\n    return RegExp(\"^[a-z][\" + pcenChar + \"]*-[\" + pcenChar + \"]*$\", flags);\n}\n/**\n * @param {?} name\n * @return {?}\n */\nfunction isPotentialCustomElementName(name) {\n    return PCEN_RE.test(name) && (PCEN_BLACKLIST.indexOf(name) === -1);\n}\n//# sourceMappingURL=ng-element-constructor.js.map","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nimport { DOCUMENT } from \"@angular/platform-browser\";\nimport { NgElementApplicationContext } from \"./ng-element-application-context\";\nimport { createNgElementConstructor } from \"./ng-element-constructor\";\nimport { scheduler, throwError } from \"./utils\";\n/**\n * TODO(gkalpak): Add docs.\n * \\@experimental\n */\nvar /**\n * TODO(gkalpak): Add docs.\n * \\@experimental\n */\nNgElements = (function () {\n    function NgElements(moduleRef, customElementComponents) {\n        var _this = this;\n        this.moduleRef = moduleRef;\n        this.doc = this.moduleRef.injector.get(DOCUMENT);\n        this.definitions = new Map();\n        this.upgradedElements = new Set();\n        this.appContext = new NgElementApplicationContext(this.moduleRef.injector);\n        this.changeDetectionScheduled = false;\n        var /** @type {?} */ resolver = moduleRef.componentFactoryResolver;\n        customElementComponents.forEach(function (componentType) { return _this.defineNgElement(_this.appContext, resolver, componentType); });\n    }\n    /**\n     * @param {?=} root\n     * @return {?}\n     */\n    NgElements.prototype.detachAll = /**\n     * @param {?=} root\n     * @return {?}\n     */\n    function (root) {\n        if (root === void 0) { root = this.doc.documentElement; }\n        var /** @type {?} */ upgradedElements = Array.from(this.upgradedElements.values());\n        var /** @type {?} */ elementsToDetach = [];\n        this.traverseTree(root, function (node) {\n            upgradedElements.some(function (ngElement) {\n                if (ngElement.getHost() === node) {\n                    elementsToDetach.push(ngElement);\n                    return true;\n                }\n                return false;\n            });\n        });\n        // Detach in reverse traversal order.\n        this.appContext.runInNgZone(function () { return elementsToDetach.reverse().forEach(function (ngElement) { return ngElement.detach(); }); });\n    };\n    /**\n     * @return {?}\n     */\n    NgElements.prototype.detectChanges = /**\n     * @return {?}\n     */\n    function () {\n        var _this = this;\n        this.changeDetectionScheduled = false;\n        this.appContext.runInNgZone(function () { return _this.upgradedElements.forEach(function (ngElement) { return ngElement.detectChanges(); }); });\n    };\n    /**\n     * @param {?} cb\n     * @return {?}\n     */\n    NgElements.prototype.forEach = /**\n     * @param {?} cb\n     * @return {?}\n     */\n    function (cb) {\n        return this.definitions.forEach(cb);\n    };\n    /**\n     * @template C, P\n     * @param {?} selector\n     * @return {?}\n     */\n    NgElements.prototype.get = /**\n     * @template C, P\n     * @param {?} selector\n     * @return {?}\n     */\n    function (selector) {\n        return this.definitions.get(selector);\n    };\n    /**\n     * @return {?}\n     */\n    NgElements.prototype.markDirty = /**\n     * @return {?}\n     */\n    function () {\n        var _this = this;\n        if (!this.changeDetectionScheduled) {\n            this.changeDetectionScheduled = true;\n            scheduler.scheduleBeforeRender(function () { return _this.detectChanges(); });\n        }\n    };\n    /**\n     * @param {?=} customElements\n     * @return {?}\n     */\n    NgElements.prototype.register = /**\n     * @param {?=} customElements\n     * @return {?}\n     */\n    function (customElements) {\n        if (!customElements && (typeof window !== 'undefined')) {\n            customElements = window.customElements;\n        }\n        if (!customElements) {\n            throwError('Custom Elements are not supported in this environment.');\n        }\n        this.definitions.forEach(function (def) { return /** @type {?} */ ((customElements)).define(def.is, def); });\n    };\n    /**\n     * @param {?=} root\n     * @return {?}\n     */\n    NgElements.prototype.upgradeAll = /**\n     * @param {?=} root\n     * @return {?}\n     */\n    function (root) {\n        var _this = this;\n        if (root === void 0) { root = this.doc.documentElement; }\n        var /** @type {?} */ definitions = Array.from(this.definitions.values());\n        this.appContext.runInNgZone(function () {\n            _this.traverseTree(root, function (node) {\n                var /** @type {?} */ nodeName = node.nodeName.toLowerCase();\n                definitions.some(function (def) {\n                    if (def.is === nodeName) {\n                        // TODO(gkalpak): What happens if `node` contains more custom elements\n                        //                (as projectable content)?\n                        def.upgrade(node, true);\n                        return true;\n                    }\n                    return false;\n                });\n            });\n        });\n    };\n    /**\n     * @param {?} appContext\n     * @param {?} resolver\n     * @param {?} componentType\n     * @return {?}\n     */\n    NgElements.prototype.defineNgElement = /**\n     * @param {?} appContext\n     * @param {?} resolver\n     * @param {?} componentType\n     * @return {?}\n     */\n    function (appContext, resolver, componentType) {\n        var _this = this;\n        var /** @type {?} */ componentFactory = resolver.resolveComponentFactory(componentType);\n        var /** @type {?} */ def = createNgElementConstructor(appContext, componentFactory);\n        var /** @type {?} */ selector = def.is;\n        if (this.definitions.has(selector)) {\n            throwError(\"Defining an Angular custom element with selector '\" + selector + \"' is not allowed, \" +\n                'because one is already defined.');\n        }\n        def.onConnected.subscribe(function (ngElement) { return _this.upgradedElements.add(ngElement); });\n        def.onDisconnected.subscribe(function (ngElement) { return _this.upgradedElements.delete(ngElement); });\n        this.definitions.set(selector, def);\n    };\n    /**\n     * @param {?} root\n     * @param {?} cb\n     * @return {?}\n     */\n    NgElements.prototype.traverseTree = /**\n     * @param {?} root\n     * @param {?} cb\n     * @return {?}\n     */\n    function (root, cb) {\n        var /** @type {?} */ currentNode = root;\n        var /** @type {?} */ getNextNonDescendant = function (node) {\n            var /** @type {?} */ currNode = node;\n            var /** @type {?} */ nextNode = null;\n            while (!nextNode && currNode && (currNode !== root)) {\n                nextNode = currNode.nextElementSibling;\n                currNode = currNode.parentElement;\n            }\n            return nextNode;\n        };\n        while (currentNode) {\n            if (currentNode instanceof HTMLElement) {\n                cb(currentNode);\n            }\n            currentNode = currentNode.firstElementChild || getNextNonDescendant(currentNode);\n        }\n    };\n    return NgElements;\n}());\n/**\n * TODO(gkalpak): Add docs.\n * \\@experimental\n */\nexport { NgElements };\nfunction NgElements_tsickle_Closure_declarations() {\n    /** @type {?} */\n    NgElements.prototype.doc;\n    /** @type {?} */\n    NgElements.prototype.definitions;\n    /** @type {?} */\n    NgElements.prototype.upgradedElements;\n    /** @type {?} */\n    NgElements.prototype.appContext;\n    /** @type {?} */\n    NgElements.prototype.changeDetectionScheduled;\n    /** @type {?} */\n    NgElements.prototype.moduleRef;\n}\n//# sourceMappingURL=ng-elements.js.map","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nimport { NgElements } from \"./ng-elements\";\nimport { isFunction } from \"./utils\";\n/**\n * @template T\n * @param {?} customElementComponents\n * @param {?} platformRefOrBootstrapFn\n * @param {?=} moduleFactory\n * @return {?}\n */\nexport function registerAsCustomElements(customElementComponents, platformRefOrBootstrapFn, moduleFactory) {\n    var /** @type {?} */ bootstrapFn = isFunction(platformRefOrBootstrapFn) ?\n        platformRefOrBootstrapFn :\n        function () { return platformRefOrBootstrapFn.bootstrapModuleFactory(/** @type {?} */ ((moduleFactory))); };\n    return bootstrapFn().then(function (moduleRef) {\n        var /** @type {?} */ ngElements = new NgElements(moduleRef, customElementComponents);\n        ngElements.register();\n        return moduleRef;\n    });\n}\n//# sourceMappingURL=register-as-custom-elements.js.map","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * @license\n * Copyright Google Inc. All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\nimport { Version } from \"@angular/core\";\n/**\n * \\@experimental\n */\nexport var /** @type {?} */ VERSION = new Version('5.1.0-beta.0-21bfaf2');\n//# sourceMappingURL=version.js.map","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nexport { registerAsCustomElements } from \"./src/register-as-custom-elements\";\nexport { VERSION } from \"./src/version\";\n// This file only reexports content of the `src` folder. Keep it that way.\n//# sourceMappingURL=public_api.js.map","/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/**\n * Generated bundle index. Do not edit.\n */\nexport { registerAsCustomElements, VERSION } from \"./public_api\";\n//# sourceMappingURL=elements.js.map"],"names":["tslib_1.__extends"],"mappings":"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"}